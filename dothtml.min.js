/*! DOThtml v3.0.0 | (c) Joshua Sideris | dothtml.org/license */

var dot=function(){function o(e){throw"DOThtml usage error code "+e+". Use an unminified version for more information."}function E(e){var t=e?"string"==typeof e?document.querySelectorAll(e):e instanceof Element||e instanceof r?[e]:e instanceof NodeList||null!=e.length&&e[0]&&(e[0]instanceof Element||e[0]instanceof r)?e:[]:[],n=new h;return 0<t.length&&(n._document=t[0]),n}function d(e){return e&&e.constructor&&e.call&&e.apply}function m(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a||!1):e.attachEvent("on"+t,n)}function e(t){i[t]=i[t+"E"]=function(e){return this.el(t,e)}}function t(t){i[t]=i[t+"A"]=function(e){return this.attr(t,e)}}function n(s){i["$"+s]=function(){this.check$();for(var e=jQuery(this._getLastChildOrNull()),t=null,r=0;r<arguments.length;r++){var n=arguments[r];if(n instanceof h){var a=n;n=function(){return a}}if(d(n)){(function(e,t,n,a){t[r]=function(){a._appendOrCreateDocument(e,null,n);n.parentElement.removeChild(n)}})(n,arguments,(t=this.el("dothtml-timeout"))._document.lastChild,t);break}}var o=t||this;if(this._document)return e[s].apply(e,arguments),o;var i=0<o._pendingCalls.length?o:new h(o._document);return i._pendingCalls||(i._pendingCalls=[]),i._pendingCalls.push({type:"jQuery wrapper",name:s,params:arguments}),i}}function a(n){i["$"+n]=function(e){if(this.check$(),this._document)return jQuery(this._getLastChildOrNull())[n](e),this;var t=0<this._pendingCalls.length?this:new h(this._document);return t._pendingCalls||(t._pendingCalls=[]),t._pendingCalls.push({type:"jQuery event",name:n,params:arguments}),t}}var r=window.Node;function h(e){var t=this;t._document=e,t._if=null,t._pendingCalls=[],t.anonAttrFuncs={},t.lastNode=e?e.lastChild:null}r||((r=function(){}).prototype.ELEMENT_NODE=1,r.prototype.ATTRIBUTE_NODE=2,r.prototype.TEXT_NODE=3);var i=h.prototype;i.version="3.0.0",i._getNewDocument=function(){return document.createElement("DOTHTML-DOCUMENT")},i._getAnInstance=function(){if(this._document||0<this._pendingCalls.length)return this;var e=new h(null);return e._if=this._if,e},i._getLastChildOrNull=function(){return this._document&&this._document.lastChild?this._document.lastChild:null},i.getLast=function(){return this._getLastChildOrNull()},i.toString=function(){return this._document?this._document.innerHTML:""},i._evalContent=function(e,t){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return(n=new h(this._getNewDocument()))._document.innerHTML=e,n._document.childNodes;if("[object Array]"===Object.prototype.toString.call(e)){for(var n=new h(this._getNewDocument()),a=0;a<e.length;a++)n._appendOrCreateDocument(e[a]);if(n._document)return n._document.childNodes}else{if(d(e))return this._evalContent(e(),t);if(e&&e instanceof h){for(a=0;a<e._pendingCalls.length;a++)t.push(e._pendingCalls[a]);if(e._document)return e._document.childNodes}}return null},i._appendOrCreateDocument=function(e,t,n){var a=this;t=(n?n.parentNode:null)||t||a._document||a._getNewDocument();var r=a._document===t?a:new h(t);r._if=a._if;for(var o=[],i=r._evalContent(e,o),s=0;s<o.length;s++){var l=o[s],u=(n?n.previousSibling||t:null)||t.lastChild||t;if(u&&"DOCUMENT"!=u.tagName)if("attr"==l.type)d(l.params[0])?m(u,l.name,l.params[0],l.arg3):u.setAttribute(l.name,l.params[0]);else if("jQuery wrapper"==l.type){(c=jQuery(u))[l.name].apply(c,l.params)}else if("jQuery event"==l.type){var c;(c=jQuery(u))[l.name](handler)}else"wait"==l.type&&l.callback();else r._pendingCalls.push(l)}if(null!==i)if(i instanceof NodeList)for(;0<i.length;)n?t.insertBefore(i[0],n):t.appendChild(i[0]);else n?t.insertBefore(i,n):t.appendChild(i);return r},i.el=function(e,t){var n=document.createElement(e),a=this._document||this._getNewDocument();return a.appendChild(n),this._appendOrCreateDocument(t,n),this._document===a?this:new h(a)},i.h=function(e){var t=this,n=t._getNewDocument();new h(n)._appendOrCreateDocument(e);for(var a=t._document||t._getNewDocument();0<n.childNodes.length;)a.appendChild(n.childNodes[0]);return t._document===a?t:new h(a)},i.t=function(e){var t=document.createTextNode(e),n=this._document||this._getNewDocument();return n.appendChild(t),new h(n)},i.attr=function(e,t,n){if(d(t)&&(0!=e.indexOf("on")?(E.anonAttrFuncs[g]=t,t="dot.anonAttrFuncs["+g+++"](arguments[0]);"):e=e.substring(2)),!this._document){var a=this._getAnInstance();return a._pendingCalls.push({type:"attr",name:e,params:[t],arg3:n}),a}var r=this._document.childNodes,o=r[r.length-1];if(o&&o.setAttribute)if(d(t))m(o,e,t,n);else{var i=o.getAttribute(e);i?i+=" ":i="",o.setAttribute(e,i+(void 0===t?e:t))}return this},i._appendSetElement=function(e,t){var n=this;if(!e)return o("A"),n;var a=document.getElementById(e);if(!a)return o("F"),n;if(n._document)for(t||(a.innerHTML="");0<n._document.childNodes.length;)a.appendChild(n._document.childNodes[0]);return n},i.iterate=function(e,t,n){var a=this,r=t,o=null;r instanceof h&&(o=r._document.cloneNode(!0));for(var i=0;i<e;i++)d(t)&&(r=t(i,n)),o&&(r._document=o.cloneNode(!0)),a=a._appendOrCreateDocument(r);return a},i.each=function(e,t){for(var n=this,a=0;a<e.length;a++)n=n._appendOrCreateDocument(t(e[a],a));return n},i.IF=i.if=function(e,t){return e?(this._if=!0,this._getAnInstance()._appendOrCreateDocument(t)):(this._if=!1,this)},i.ELSEIF=i.elseif=function(e,t){return this._if?this:this.if(e,t)},i.ELSE=i.else=function(e){return this._if?this:(this._if=null,this._getAnInstance()._appendOrCreateDocument(e))},i.script=function(e){var t=this.getLast();return setTimeout(function(){e(t)},0),this},i.wait=function(e,t){var n=this.el("dothtml-timeout"),a=n._document.lastChild;return setTimeout(function(){n._appendOrCreateDocument(t,null,a),a.parentElement.removeChild(a)},e),n},i.empty=function(){if(this._document){for(var e=this._document.querySelectorAll("dothtml-router"),t=0;t<e.length;t++)delete y[e[t].dothtmlRouterId];for(;this._document.firstChild;)this._document.removeChild(this._document.firstChild)}return this},i.bindTo=function(t,n){var a=this.getLast(),r=t[n],e=this.setVal(r);m(a,"change",function(e){r=t[n]=E(a).getVal()});try{Object.defineProperty(t,n,{enumerable:!0,get:function(){return r},set:function(e){r=e,E(a).setVal(e)}})}catch(e){}return e};var s={};E.component=function(e){var n;if(1==arguments.length){if(!(n=e).name||!n.builder)return void o("CU")}else n={name:e,builder:arguments[1],ready:arguments[2]};n.name?E[n.name]||i[n.name]?o("CC",n.name):(s[n.name]=1,E[n.name]=i[n.name]=function(){var e=new function(){},t=n.builder.apply(e,arguments);return t=this._appendOrCreateDocument(t instanceof h?t:E.h(t)),e.element=e.element||t.getLast(),n.ready&&setTimeout(function(){n.ready.apply(e)},0),t}):o("CN")},E.removeComponent=function(e){s[e]&&(delete s[e],delete E[e],delete i[e])};var l,u=["a","aside","abbr","address","area","article","audio","b","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","content","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","section","select","small","source","span","strong","svg","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],c=["accept","accesskey","action","align","alink","alt","archive","autocomplete","autofocus","autoplay","autosave","axis","background","bgcolor","border","buffered","cellpadding","cellspacing","challenge","char","charoff","checked","cite","class","classid","clear","codebase","codetype","color","cols","colspan","compact","contenteditable","contextmenu","controls","coords","datetime","declare","default","dir","dirname","disabled","download","draggable","dropzone","enctype","face","font","fontface","fontfaceformat","fontfacename","fontfacesrc","fontfaceuri","fontspecification","for","foreignobject","form","formaction","frame","frameborder","headers","height","hidden","high","href","hreflang","hspace","icon","id","images","ismap","itemprop","keytype","kind","label","lang","list","longdesc","loop","low","manifest","marginheight","marginwidth","max","maxlength","media","metadata","method","min","missingglyph","multiple","muted","name","nohref","noresize","noshade","novalidate","nowrap","onblur","onchange","onclick","ondblclick","onfocus","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmousemove","onmouseout","onmouseover","onmouseup","onreset","onscroll","onselect","onsubmit","onunload","open","optimum","pattern","ping","placeholder","poster","preload","prompt","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","rules","sandbox","scope","scrolling","seamless","selected","shape","size","sizes","span","spellcheck","src","srcdoc","srclang","srcset","standby","start","step","summary","style","tabindex","target","title","type","usemap","valign","value","valuetype","width","wrap"],p=["animate","css","empty","fadeIn","fadeOut","fadeTo","hide","show"],f=["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","one","resize","scroll","select","submit"];for(l in u)e(u[l]);for(l in c)t(c[l]);for(l in p)n(p[l]);for(l in f)a(f[l]);i.acceptCharset=i["accept-charset"]=function(e){return this.attr("accept-charset",e)},i.dataA=E.dataA=function(e,t){return arguments.length<2?(t=e,e=void 0,this.attr("data",t)):this.attr("data-"+e,t)},i.data=E.data=function(){var e=this;return 1<arguments.length||1==arguments.length&&"object"!=typeof arguments[0]&&e._document&&e._document.lastChild&&"OBJECT"==e._document.lastChild.tagName?E.dataA.apply(e,arguments):E.dataE.apply(e,arguments)},i.cite=E.cite=function(e){var t=this;if(console.log("Here",e),e&&"object"!=typeof e&&t._document&&t._document.lastChild){var n=t._document.lastChild.tagName;if("BLOCKQUOTE"==n||"DEL"==n||"INS"==n||"Q"==n)return t.attr("cite",e)}return t.el("cite",e)},i.form=E.form=function(e){var t=this;if(e&&"object"!=typeof e&&t._document&&t._document.lastChild){var n=t._document.lastChild.tagName;if("BUTTON"==n||"FIELDSET"==n||"INPUT"==n||"KEYGEN"==n||"LABEL"==n||"METER"==n||"OBJECT"==n||"OUTPUT"==n||"PROGRESS"==n||"SELECT"==n||"TEXTAREA"==n)return t.attr("form",e)}return t.el("form",e)},i.label=function(e){var t=this;if(e&&"object"!=typeof e&&t._document&&t._document.lastChild&&"TRACK"==t._document.lastChild.tagName)return t.attr("label",e);return t.el("label",e)},i.span=function(e){var t=this;if(e&&"object"!=typeof e&&t._document&&t._document.lastChild){var n=t._document.lastChild.tagName;if("COL"==n||"COLGROUP"==n)return t.attr("span",e)}return t.el("span",e)},i.summary=function(e){var t=this;if(e&&"object"!=typeof e&&t._document&&t._document.lastChild&&"TABLE"==t._document.lastChild.tagName)return t.attr("summary",e);return t.el("summary",e)},i.setVal=function(e){var t=this.getLast()||this._document;return t&&(t.parentNode&&"DOTHTML-DOCUMENT"!=t.parentNode.tagName&&(t=t.parentNode),Array.isArray&&Array.isArray(e)||!Array.isArray&&e.join?e=e.join(""):null==e&&(e=""),"checkbox"==t.type?t.checked=!!e:"radio"==t.type?t.checked=!!e:"OPTION"==t.tagName?t.selected=!!e:t.value=e),this},i.getVal=function(){var e=this.lastNode||this._document;if(e&&1===e.nodeType)return"checkbox"==e.type?!!e.checked:"radio"==e.type?!!e.checked:"OPTION"==e.tagName?!!e.selected:e.value},i.check$=function(){jQuery||o("J")},E._document=null,E._if=null,E._pendingCalls=[];function v(e,t,n){var a=this;"string"!=typeof(e=e||"")&&(e+="");var r=e;-1!=e.indexOf("#")&&(r=e.split("#")[1]);var o=e.split("#"),i=[],s=o[0].split("?")[0].split("/");""===s[0]&&s.shift(),i.push(s);var l=1<o.length?o[1].split("/"):null;!l||""===l[0]&&l.shift(),l&&(1<s.length?i.push(l):i.unshift(l));var u=!1;navParams={cancel:function(){u=!0,navParams.wasCancelled=!0},element:a.element,httpResponse:null,isNew:!0,params:{},path:e,title:null};var c=null;for(var d in i){var m=i[d],h=!1;for(var p in a.params.routes){h=!0;for(var f=a.params.routes[p],v={},g=0,_=0,y=null;;){var C=f.segments[g]||null,b=m[_]||null;if(null===C&&null===b)break;if(null===C&&null!==b||null!==C&&null===b){h=!1;break}if(null===C&&"*"==y&&(C="*"),C==b||"+"==C||"*"==C)g++;else if(2<C.length&&"{"==C.charAt(0)&&"}"==C.charAt(C.length-1))g++,v[C.substring(1,C.length-1)]=b;else if("*"!=y){h=!1;break}_++,y=C}if(h){c=f,navParams.params=v;break}}if(h){if(m==s){if(!history.pushState&&O)return window.location.hash=e,void(window.location.pathname="/");break}if(m==l){e=r,navParams.path=e,history.pushState&&(window.location.hash="",history.replaceState({pageTitle:document.title,path:e},document.title,e));break}}}if(navParams.isNew=!!(n||a.currentRoute!=c||a.currentParams&&a.currentParams!=navParams.params&&JSON.stringify(a.currentParams)!==JSON.stringify(navParams.params)),a.params.onNavigateInit&&a.params.onNavigateInit(navParams),!navParams.isNew||u)return navParams;a.currentRoute=c,a.currentParams=navParams.params;var N=a.outlet;E(N).empty();var w=++a.navId;return 0==s.length||null==c||(navParams.title=c.title,"string"==typeof c.component?function(e,t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&(200==this.status?t&&t(this):n&&n(this))},a.open("GET",e,!0),a.send()}(c.component,function(e){var t=e.responseText;if(navParams.httpResponse=e,w!=a.navId)return navParams;if(a.params.onResponse&&a.params.onResponse(navParams),u&&returnnavParams,c.component.split("?")[0].split("#")[0].toLowerCase().indexOf(".js")==c.component.length-3)try{t=Function("var exports=null,module={},route=arguments[0];"+t+"\r\nreturn module.exports || exports;")(navParams)}catch(e){console.error(e)}E(N).h(t),a.params.onComplete&&a.params.onComplete(navParams)},function(e){navParams.httpResponse=e,a.params.onError&&a.params.onError(navParams)}):(E(N).h(c.component.call(E,navParams)),a.params.onComplete&&a.params.onComplete(navParams))),navParams}var g=0,_=!(E.anonAttrFuncs={}),y={},C=1,O=!1;function b(){!_&&(_=!0)&&(window.onpopstate=function(e){e.state&&(E.navigate(e.state.path,!0),document.title=e.state.pageTitle)})}for(var N in E.component({name:"router",builder:function(e){var a=this;if(a.navigate=function(e,t,n){return v.call(a,e,t,n)},a.navId=0,a.currentRoute=null,a.currentParams=null,!(a.params=e)||!e.routes)return o("R"),E;for(var t=0;t<a.params.routes.length;t++){var n=a.params.routes[t];if(!n.path)return o("R"),E;n.segments=n.path.split("/")}void 0===e.autoNavigate&&(e.autoNavigate=!0);var r=E.el("dothtml-router");return a.outlet=r.getLast(),a.id=C++,(y[a.id]=a).outlet.dothtmlRouterId=a.id,r},ready:function(){if(b(),this.params.autoNavigate){O=!0;var e=this.navigate(window.location.pathname+(window.location.hash||""),!0);O=!1}history.pushState?history.replaceState({pageTitle:e.title||document.title,path:e.path},e||document.title,e.path):window.location.hash=e.path}}),E.navigate=function(e,t,n){b();for(var a=Object.keys(y),r={},o=document.title,i=0;i<a.length;i++){var s=a[i],l=y[s];if(l){var u=l.navigate(e,t,n);u.isNew&&!u.wasCancelled&&(o=(r=u).title||o)}}try{r&&!t&&(history.pushState?history.pushState({pageTitle:o,path:r.path},o,r.path):window.location.hash=r.path)}catch(e){}return this},E.component("navLink",function(e,t){return E.a(e).href(t).onclick(function(e){e.preventDefault(),E.navigate(t)})}),i)void 0===E[N]&&(E[N]=i[N]);return E}();