//Version 2.0.1

var dot=function(){var e=window.Node;function d(e){var t=this;t._document=e,t._if=null,t._pendingCalls=[],t._anonAttrFuncs=[],t.lastNode=e?e.lastChild:null}e||((e=function(){}).prototype.ELEMENT_NODE=1,e.prototype.ATTRIBUTE_NODE=2,e.prototype.TEXT_NODE=3);var r=d.prototype;r.version="2.0.1",r._warnings=!0,r.suppressWarnings=function(){this.__proto__._warnings=!1},r._getNewDocument=function(){return document.createElement("DOTHTML-DOCUMENT")},r._getAnInstance=function(){if(this._document||0<this._pendingCalls.length)return this;var e=new d(null);return e._if=this._if,e},r._getLastChildOrNull=function(){return this._document&&this._document.lastChild?this._document.lastChild:null},r.getLast=function(){return this._getLastChildOrNull()},r.toString=function(){return this._document?this._document.innerHTML:""},r._evalContent=function(e,t){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return(n=new d(this._getNewDocument()))._document.innerHTML=e,n._document.childNodes;if("[object Array]"===Object.prototype.toString.call(e)){for(var n=new d(this._getNewDocument()),r=0;r<e.length;r++)n._appendOrCreateDocument(e[r]);if(n._document)return n._document.childNodes}else{if(m(e))return this._evalContent(e(),t);if(e&&e instanceof d){for(r=0;r<e._pendingCalls.length;r++)t.push(e._pendingCalls[r]);if(e._document)return e._document.childNodes}}return null},r._appendOrCreateDocument=function(e,t,n){var r=this;t=(n?n.parentNode:null)||t||r._document||r._getNewDocument();var a=r._document===t?r:new d(t);a._if=r._if;for(var o=[],i=a._evalContent(e,o),u=0;u<o.length;u++){var s=o[u],c=(n?n.previousSibling||t:null)||t.lastChild||t;if(c&&"DOCUMENT"!=c.tagName)if("attr"==s.type)m(s.params[0])?p(c,s.name,s.params[0],s.arg3):c.setAttribute(s.name,s.params[0]);else if("jQuery wrapper"==s.type){(l=jQuery(c))[s.name].apply(l,s.params)}else if("jQuery event"==s.type){var l;(l=jQuery(c))[s.name](handler)}else"wait"==s.type&&s.callback();else a._pendingCalls.push(s)}if(null!==i)if(i instanceof NodeList)for(;0<i.length;)n?t.insertBefore(i[0],n):t.appendChild(i[0]);else n?t.insertBefore(i,n):t.appendChild(i);return a},r.el=function(e,t){var n=this,r=document.createElement(e),a=this._document||n._getNewDocument();return a.appendChild(r),n._appendOrCreateDocument(t,r),n._document===a?n:new d(a)},r.h=function(e){var t=this,n=t._getNewDocument();new d(n)._appendOrCreateDocument(e);for(var r=t._document||t._getNewDocument();0<n.childNodes.length;)r.appendChild(n.childNodes[0]);return t._document===r?t:new d(r)},r.t=function(e){var t=document.createTextNode(e),n=this._document||this._getNewDocument();return n.appendChild(t),new d(n)},r.attr=function(e,t,n){var r=this;if(m(t)&&(0!=e.indexOf("on")?(s._anonAttrFuncs.push(t),t="dot._anonAttrFuncs["+(s._anonAttrFuncs.length-1)+"](event);"):e=e.substring(2)),!r._document){var a=r._getAnInstance();return a._pendingCalls.push({type:"attr",name:e,params:[t],arg3:n}),a}var o=r._document.childNodes,i=o[o.length-1];if(i&&i.setAttribute)if(m(t))p(i,e,t,n);else{var u=i.getAttribute(e);u?u+=" ":u="",i.setAttribute(e,u+(void 0===t?e:t))}return r},r._appendSetElement=function(e,t){var n=this;if(!e)return n._warnings&&console.warn("Can't render to "+e),n;var r=document.getElementById(e);if(!r)return n._warnings&&console.warn("Element with ID: "+e+" not found."),n;if(n._document)for(t||(r.innerHTML="");0<n._document.childNodes.length;)r.appendChild(n._document.childNodes[0]);return n},r.appendToId=function(e){return this._appendSetElement(e,!0)},r.writeToId=function(e){return this._appendSetElement(e,!1)},r.iterate=function(e,t,n){var r=this,a=t,o=null;a instanceof d&&(o=a._document.cloneNode(!0));for(var i=0;i<e;i++)m(t)&&(a=t(i,n)),o&&(a._document=o.cloneNode(!0)),r=r._appendOrCreateDocument(a);return r},r.each=function(e,t){for(var n=this,r=0;r<e.length;r++)n=n._appendOrCreateDocument(t(e[r]));return n},r.IF=r.if=function(e,t){return e?(this._if=!0,this._getAnInstance()._appendOrCreateDocument(t)):(this._if=!1,this)},r.ELSEIF=r.elseif=function(e,t){return this._if?this:this.if(e,t)},r.ELSE=r.else=function(e){return this._if?this:(this._if=null,this._getAnInstance()._appendOrCreateDocument(e))},r.script=function(e){return e(),this},r.wait=function(e,t){var n=this.el("dothtml-timeout"),r=n._document.lastChild;return setTimeout(function(){n._appendOrCreateDocument(t,null,r),r.parentElement.removeChild(r)},e),n},r.empty=function(){if(this._document)for(;this._document.firstChild;)this._document.removeChild(this._document.firstChild);return this},r.binding=function(e){return new l(e)},r.bindTo=function(t){var e=this.getLast(),n=this.setVal(t.value);p(e,"change",function(e){t.value=this.getVal()}),t.subscribe(e);return n};var a={};r.component=function(e){var n;n=1==arguments.length?e:{name:e,builder:arguments[1]},a[n.name]=n.constructor||function(){},s[n.name]=r[n.name]=function(){var e=new a[n.name],t=n.builder.apply(e,arguments);return t=this._appendOrCreateDocument(t instanceof d?t:s.h(t)),e.element=e.element||t.getLast(),n.ready&&setTimeout(function(){n.ready.apply(e)},0),t},r[n.name].prototype},r.createElement=function(t){r[t]=r[t+"E"]=function(e){return this.el(t,e)}},r.createAttribute=function(t){r[t]=r[t+"A"]=function(e){return this.attr(t,e)}},r.createJQueryWrapper=function(u){r["$"+u]=function(){this.check$();for(var e=jQuery(this._getLastChildOrNull()),t=null,a=0;a<arguments.length;a++){var n=arguments[a];if(n instanceof d){var r=n;n=function(){return r}}if(m(n)){(function(e,t,n,r){t[a]=function(){r._appendOrCreateDocument(e,null,n);n.parentElement.removeChild(n)}})(n,arguments,(t=this.el("dothtml-timeout"))._document.lastChild,t);break}}var o=t||this;if(this._document)return e[u].apply(e,arguments),o;var i=0<o._pendingCalls.length?o:new d(o._document);return i._pendingCalls||(i._pendingCalls=[]),i._pendingCalls.push({type:"jQuery wrapper",name:u,params:arguments}),i}},r.createJQueryEventHandler=function(n){r["$"+n]=function(e){if(this.check$(),this._document)return jQuery(this._getLastChildOrNull())[n](e),this;var t=0<this._pendingCalls.length?this:new d(this._document);return t._pendingCalls||(t._pendingCalls=[]),t._pendingCalls.push({type:"jQuery event",name:n,params:arguments}),t}};for(var t=["a","aside","abbr","address","area","article","audio","b","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","content","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],n=["accept","accesskey","action","align","alink","alt","archive","autocomplete","autofocus","autoplay","autosave","axis","background","bgcolor","border","buffered","cellpadding","cellspacing","challenge","char","charoff","checked","cite","class","classid","clear","codebase","codetype","color","cols","colspan","compact","contenteditable","contextmenu","controls","coords","datetime","declare","default","data","dir","dirname","disabled","download","draggable","dropzone","enctype","face","font","fontface","fontfaceformat","fontfacename","fontfacesrc","fontfaceuri","fontspecification","for","foreignobject","form","formaction","frame","frameborder","headers","height","hidden","high","href","hreflang","hspace","icon","id","images","ismap","itemprop","keytype","kind","label","lang","list","longdesc","loop","low","manifest","marginheight","marginwidth","max","maxlength","media","metadata","method","min","missingglyph","multiple","muted","name","nohref","noresize","noshade","novalidate","nowrap","onblur","onchange","onclick","ondblclick","onfocus","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmousemove","onmouseout","onmouseover","onmouseup","onreset","onscroll","onselect","onsubmit","onunload","open","optimum","pattern","ping","placeholder","poster","preload","prompt","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","rules","sandbox","scope","scrolling","seamless","selected","shape","size","sizes","span","spellcheck","src","srcdoc","srclang","srcset","standby","start","step","summary","style","tabindex","target","title","type","usemap","valign","value","valuetype","width","wrap"],o=["animate","css","empty","fadeIn","fadeOut","fadeTo","hide","show"],i=["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","one","resize","scroll","select","submit"],u=0;u<t.length;u++)r.createElement(t[u]);for(u=0;u<n.length;u++)r.createAttribute(n[u]);for(u=0;u<o.length;u++)r.createJQueryWrapper(o[u]);for(u=0;u<i.length;u++)r.createJQueryEventHandler(i[u]);r.acceptcharset=r["accept-charset"]=function(e){return this.attr("accept-charset",e)},r.svg=function(){throw"SVG is not supported by this library. Keep an eye out for dotsvg.js in the future."},r.data=function(e,t){return arguments.length<2?(t=e,e=void 0,this.attr("data",t)):this.attr("data-"+e,t)},r.cite=function(e){var t=this;if(e&&t._document&&t._document.lastChild){var n=t._document.lastChild.tagName;if("BLOCKQUOTE"==n||"DEL"==n||"INS"==n||"Q"==n)return t.attr("cite",e)}return t.el("cite",e)},r.form=function(e){var t=this;if(e&&t._document&&t._document.lastChild){var n=t._document.lastChild.tagName;if("BUTTON"==n||"FIELDSET"==n||"INPUT"==n||"KEYGEN"==n||"LABEL"==n||"METER"==n||"OBJECT"==n||"OUTPUT"==n||"PROGRESS"==n||"SELECT"==n||"TEXTAREA"==n)return t.attr("form",e)}return t.el("form",e)},r.label=function(e){var t=this;if(e&&t._document&&t._document.lastChild&&"TRACK"==t._document.lastChild.tagName)return t.attr("label",e);return t.el("label",e)},r.span=function(e){var t=this;if(e&&t._document&&t._document.lastChild){var n=t._document.lastChild.tagName;if("COL"==n||"COLGROUP"==n)return t.attr("span",e)}return t.el("span",e)},r.summary=function(e){var t=this;if(e&&t._document&&t._document.lastChild&&"TABLE"==t._document.lastChild.tagName)return t.attr("summary",e);return t.el("summary",e)},r.setVal=function(e){var t=this.getLast()||this._document;return t&&(t.parentNode&&"DOTHTML-DOCUMENT"!=t.parentNode.tagName&&(t=t.parentNode),Array.isArray&&Array.isArray(e)||!Array.isArray&&e.join?e=e.join(""):null==e&&(e=""),"checkbox"==t.type?t.checked=!!e:"radio"==t.type?t.checked=!!e:"OPTION"==t.tagName?t.selected=!!e:t.value=e),this},r.getVal=function(){var e=this.lastNode||this._document;if(e&&1===e.nodeType)return"checkbox"==e.type?!!e.checked:"radio"==e.type?!!e.checked:"OPTION"==e.tagName?!!e.selected:e.value},r.check$=function(){if(!jQuery)throw"Can't use jQuery wrappers without jQuery."};var s=function(e){var t=e?"string"==typeof e?document.querySelectorAll(e):e instanceof Element?[e]:e instanceof NodeList||null!=e.length&&e[0]&&e[0]instanceof Element?e:[]:[],n=new d;return 0<t.length&&(n._document=t[0]),n};for(var c in s._document=null,s._if=null,s._pendingCalls=[],s._anonAttrFuncs=[],r)void 0===s[c]&&(s[c]=r[c]);function l(e){var t=this;t.value=t._value=e,t.subscribers=[];try{t.property=Object.defineProperty(t,"value",{enumerable:!0,get:function(){return t._value},set:function(e){t._value=e,t.updateSubscribers()}})}catch(e){t.property=new Object}}var h=l.prototype;function m(e){return e&&e.constructor&&e.call&&e.apply}function p(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent("on"+t,n)}return h.subscribe=function(e){this.subscribers.push(e)},h.unsubscribe=function(e){for(var t=0;t<S.length;t++)if(S[t]==e){S.splice(t,1);break}},h.updateSubscribers=function(){for(var e=this.subscribers,t=0;t<e.length;t++)s(e[t]).setVal(this._value)},h.setFrom=function(e){this.value=s(e).getVal()},s}();